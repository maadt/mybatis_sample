<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.CourseMapper">
    <resultMap type="com.example.entity.Course" id="courseMap">
        <id column="ID" property="id"/>
        <result column="NAME" property="name"/>
    </resultMap>

    <select id="findAll" resultMap="courseMap">
        SELECT * FROM COURSES
    </select>
    
    <!-- 新規登録処理 -->
    <insert id="insert" useGeneratedKeys="true" keyColumn="ID" keyProperty="id">
    <!-- 
        id="Mapperインターフェースのメソッド名"
        useGeneratedKeys="自動採番された値をEntityのフィールドに格納したい場合はtrue、そうでない場合はfalse"
        keyColumn="自動採番されるカラム名"
        keyProperty="格納されるEntityのフィールド名">
     -->
        INSERT INTO COURSES (id, name) VALUES (nextval('course_id_seq'), #{name})
        <!-- 
            INSERT INTO テーブル名 (カラム名) VALUES (#{クラスのフィールド名})
         -->
    </insert>
</mapper>